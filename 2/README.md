# IP Pairs Finder

Этот проект реализует приложение для поиска пар IP-адресов на основе заданного свойства. В качестве свойства можно использовать, например, сумму октетов IP-адреса или количество единиц в его 32-битном представлении. Приложение получает список IP-адресов популярных сайтов (на основе их доменных имён), проверяет их доступность (с помощью команды ping) и для каждого доступного адреса пытается найти пару с таким же значением свойства.

## Функциональность

Приложение состоит из нескольких модульных компонентов, определённых с помощью абстрактных интерфейсов:

- **IIPAvailabilityChecker** — контракт для проверки доступности IP-адреса.  
  Конкретная реализация использует ping для проверки доступности.

- **IIPGenerator** — контракт для получения списка IP-адресов.  
  Реализуется посредством DNS-разрешения доменных имён популярных сайтов.

- **IIPPropertyExtractor** — контракт для извлечения некоторого целочисленного свойства из IP-адреса и генерации кандидата с таким же свойством.  
  В проекте реализованы два варианта:  
  - *SumOctetsExtractor* — возвращает сумму октетов IP.  
  - *CountOnesExtractor* — возвращает количество единиц в 32-битном представлении IP.

- **IIPPairFinder** — контракт для поиска пар IP-адресов, у которых совпадает извлечённое свойство.

- **ICSVWriter** — контракт для записи результатов в CSV-файл (с кодировкой UTF-8).

Основной класс **IPApp** объединяет все компоненты и последовательно выполняет следующие шаги:
1. Получение списка IP-адресов.
2. Поиск пар IP-адресов с совпадающим свойством.
3. Запись результатов в CSV-файл.

## Требования

- **Python 3.x**
- Используемые модули (библиотеки):  
  - Встроенные: `csv`, `logging`, `platform`, `random`, `socket`, `subprocess`, `abc`

## Как запустить

1. Склонируйте или скачайте проект.
2. Запустите скрипт:
   ```bash
   python <имя_файла>.py
   ```

## Результаты

После запуска приложения в текущей папке будут созданы два файла с результатами:
- [pair_results_sum.csv](pair_results_sum.csv) — с парами, найденными по свойству суммы октетов.
- [pair_results_ones.csv](pair_results_ones.csv) — с парами, найденными по свойству количества единиц в бинарном представлении IP.

## Как изменить критерий поиска

По умолчанию в функции `main()` создаются объекты `SumOctetsExtractor` и `CountOnesExtractor`, которые реализуют контракт `IIPPropertyExtractor`. Для смены логики извлечения свойства достаточно создать объект нужного класса и передать его в конструктор приложения `IPApp`. Это позволяет легко модифицировать критерий поиска без изменения основной логики работы приложения.

## Структура проекта

- **Интерфейсы** — определяют контракты для компонентов (проверка доступности IP, генерация IP, извлечение свойства, поиск пар, запись в CSV).
- **Реализации** — классы `IPAvailabilityChecker`, `IPGenerator`, `SumOctetsExtractor`, `CountOnesExtractor`, `IPPairFinder`, `CSVWriter` реализуют описанные интерфейсы с подробной документацией.
- **IPApp** — основной класс приложения, объединяющий все компоненты.
- **README.md** — данное описание проекта.

## Логирование

Приложение использует модуль `logging` для отслеживания выполнения каждого шага (проверка доступности, генерация кандидатов, поиск пар и запись результатов). Сообщения выводятся на уровне INFO.

---

Данный проект разработан с упором на модульность и расширяемость. Использование абстрактных интерфейсов позволяет легко менять реализацию любой части кода, что делает приложение пригодным для дальнейшего развития.